# Settings specific to work for parkerwallace
export PYTHONPATH=$PYTHONPATH:~/Projects/Work/pw/webware/
export PYTHONPATH=$PYTHONPATH:~/Projects/Work/pw/pydevdebug/
export PYTHONSTARTUP=/Users/alex/.pythonrc
alias tablet='cd ~/Projects/Work/pw/tablet/'
alias crs='cd ~/Projects/Work/pw/tabletcrs/'
alias thmysql='mysql -u alex -palex alex_tablethotels'
alias hmsmysql='mysql -u alex -palex alex_hms'
alias crsmysql='mysql -u alex -palex alex_crs'
alias app1='ssh -p 11001 admin@localhost'
alias app2='ssh -p 11002 admin@localhost'
alias app3='ssh -p 11003 admin@localhost'
alias app4='ssh -p 11004 admin@localhost'
alias app5='ssh -p 11005 admin@localhost'
alias app6='ssh -p 11006 admin@localhost'
alias app7='ssh -p 11007 admin@localhost'
alias memcachestop='sudo /opt/local/etc/LaunchDaemons/org.macports.memcached/memcached.wrapper stop'
alias memcachestart="sudo /opt/local/etc/LaunchDaemons/org.macports.memcached/memcached.wrapper stop"

alias logline='cd ~/Projects/Work/pw/logline; source logline-env-python27/bin/activate; cd current/logline'
alias logliner='cd ~/Projects/Work/pw/logline-rails/logline'

export HMS_REPO="svn+ssh://dev.tablethotels.com/usr/local/projects/svn/hotelsmadesimple/web_hms/branches/th3"
export TH_REPO="svn+ssh://dev.tablethotels.com/usr/local/projects/svn/tablet/web_tablethotels/branches/th3"
export CRS_REPO="svn+ssh://dev.tablethotels.com/usr/local/projects/svn/tabletcrs/trunk/web_tabletcrs"
export TH_INSTANCE="$HOME/Projects/Work/pw/tablet/current"
export CRS_INSTANCE="$HOME/Projects/Work/pw/tabletcrs/current"

svnbrowse() { 
svn info $1 | grep URL | awk {'print $2'} | sed -e 's/^svn.*svn\/tablet/http:\/\/projects.tablethotels.com\/tablet\/browser/' | xargs open 
}

svn_branch() {
  branch=`svn_url | sed -e 's/^'"$(svn_repo_root_re)"'//g' | sed -e 's/^\/web_tablethotels\///g'`
  # Get rid of everything after trunk or branches.
  echo $branch | sed -e 's/\(branches\/[^\/]*\)\/.*/\1/' | sed -e 's/\(trunk\)\/.*/\1/' 
}

svn_url() {
  svn info 2>/dev/null | grep -e '^URL*' | sed -e 's/^URL: *\(.*\)/\1/g '
}

svn_repo_root() {
  svn info 2>/dev/null | grep -e '^Repository Root:*' | sed -e 's/^Repository Root: *\(.*\)/\1/g '
}

svn_repo_root_re() {
  echo $(svn_repo_root) | sed 's/\//\\\//g'
}

svn_version() {
  svn info 2>/dev/null | grep Revision: | cut -f 2 -d " "
}

svn_repo() {
  svn info 2>/dev/null 1>/dev/null
  if [ $? -eq 0 ]
  then
    echo "($(svn_branch):$(svn_version)) "
  fi
}
